<!DOCTYPE html>
<html>
    
<head>
  <title>WebAudioAPI - Example 2</title>
</head>
    
<style>
</style>
    
<script>
(function(theWindow, theDocument){
  
  
  /*
  The WebAUdioAPI allows to generate oscillating wave forms quite easily
  These are the actual building blocks of a synthesizer
  
  An oscillator is a circuit that produces a repetitite, oscillating signal
  
  Along with audio filters & audio controllers, these are one of the basic elements
  required for modern analog substractive synthesizers
  
  
  The Oscillator Node is the interface representing an audio source
  generating a periodic waveform
  
  An oscillator defaults to a sine wave at 200 Hz
  
  We must connect the oscillator to a destination in order to hear it
  
  Some commonly used waveforms are:
  - "sine"       => Sine
  - "square"     => Square
  - "saw"        => Sawtooth
  - "triangle"   => Triangle
  - "custom"     => Custom
  
  We can also adjust the pitch of the wave simply by setting a frequency in Hz
  ( ex: a value of 440 'd be an A ( A4 = 440Hz ) )
  
  */
  
  // create an AudioContext
  var context = new AudioContext();
  
  // create an AudioSource ( audio files / oscillators ( to generate sound from scratch )
  oscillator = context.createOscillator(); // Create sound source
  
  // specify oscillator settings
  oscillator.type = "square"; // Square wave
  oscillator.frequency.value = 440; // freq in Hz
  
  // -- Intermediate Audio Nodes --
  gainNode = context.createGain(); // Create gain node 
  gainNode.gain.value = 0.3; // Set gain node to 30 percent volume
  // ------------------------------
  
  // connect the AudioDestination
  oscillator.connect(gainNode); // Connect sound to gain node 
  gainNode.connect(context.destination); // Connect gain node to speakers
  
  // play the sound
  oscillator.start(); // Generate sound instantly
  
  // stop the sound ( when desired )
  // oscillator.stop();
  setTimeout(function(){ oscillator.stop(); }, 3000);
  
  
})(window, document);
</script>

<body>
  <a href="http://madtoyslab.com/WebAudioContextTests">Back to WebAudioAPI tests</a>
</body>
    
</html>
